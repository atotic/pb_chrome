Compiled binaries are too big for git repository, so we are putting them in
github release instead. Current release is at:
https://github.com/atotic/pb_chrome/releases/tag/v30.0.1599.9
https://github.com/atotic/pb_chrome/releases/download/v30.0.1599.9/chromium_linux.tar.gz
https://github.com/atotic/pb_chrome/releases/download/v30.0.1599.9/chromium_mac.tar.gz

Patch submitted to chromium:
https://code.google.com/p/chromium/issues/detail?id=169337

Checkout:

mkdir chromium; cd chromium
gclient config https://src.chromium.org/chrome/releases/30.0.1599.9
svn ls https://src.chromium.org/chrome
gclient sync

On Linux, had to change .gclient-entries for jsoncpp. The old repository has moved

Building:

Mac
cd src
export GYP_GENERATORS=ninja; export GYP_DEFINES=clang=1; ./build/gyp_chromium
ninja -C out/Debug chrome; ninja -C out/Release chrome

ninja -C out/Debug chrome;
ninja -C out/Release chrome # for relase builds
ninja -C out/Debug chrome; ninja -C out/Release chrome

Debugging on OS X:
http://www.chromium.org/developers/debugging-on-os-x
Create a new xcode project Test
Add custom build step to the project (this was tricky to do, and I forgot how)
Run Chromium from command line as
out/Debug/Chromium.app/Contents/MacOS/Chromium --renderer-startup-dialog
Attach to Chromium process, and each subprocess as they show up.

Stock chromium might die because of many asserts. Following mods make it run:

base/file_util_posix.cc
FilePath MakeAbsoluteFilePath(const FilePath& input) {
-  ThreadRestrictions::AssertIOAllowed();
+//  ThreadRestrictions::AssertIOAllowed();

--- base/threading/platform_thread_posix.cc	(revision 217147)
+++ base/threading/platform_thread_posix.cc	(working copy)
@@ -224,7 +224,7 @@
   // Joining another thread may block the current thread for a long time, since
   // the thread referred to by |thread_handle| may still be running long-lived /
   // blocking tasks.
-  base::ThreadRestrictions::AssertIOAllowed();
+  // base::ThreadRestrictions::AssertIOAllowed();
   pthread_join(thread_handle.handle_, NULL);

Index: base/threading/thread_restrictions.cc
===================================================================
--- base/threading/thread_restrictions.cc	(revision 217147)
+++ base/threading/thread_restrictions.cc	(working copy)
@@ -34,6 +34,7 @@

 // static
 void ThreadRestrictions::AssertIOAllowed() {
+  return;
   if (g_io_disallowed.Get().Get()) {
     LOG(FATAL) <<
         "Function marked as IO-only was called from a thread that "
